import{I as p,_ as y,x as e,z as r,J as f,K as c,L as m,M as n,A as o,y as t,D as g}from"#entry";const v=p("data",{state:()=>({cities:["宜蘭縣","花蓮縣","臺東縣","澎湖縣","金門縣","連江縣","臺北市","新北市","桃園市","臺中市","臺南市","高雄市","基隆市","新竹縣","新竹市","苗栗縣","彰化縣","南投縣","雲林縣","嘉義縣","嘉義市","屏東縣"],selectedCity:"",cityData:null,loading:!1,error:null}),actions:{async fetchWeather(_,a){this.selectedCity=a,this.loading=!0;try{const l=await $fetch("/api/weather",{params:{dataset:_,locationName:a}});this.cityData=l.records.location}catch(l){this.error=l.message||"取得資料失敗"}finally{this.loading=!1}}}}),b=["value"],k={key:0},x={key:1},N={key:2},C={class:"text-xl font-semibold mb-2"},D={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},w={class:"font-semibold"},T={class:"font-mono"},B="F-C0032-001",S={__name:"index",setup(_){const a=v(),l=async h=>{await a.fetchWeather(B,h)};return(h,i)=>(t(),e("div",null,[i[2]||(i[2]=r("h1",null,"選擇縣市",-1)),r("select",{onChange:i[0]||(i[0]=s=>l(s.target.value))},[i[1]||(i[1]=r("option",{disabled:"",selected:"",value:""},"請選擇",-1)),(t(!0),e(c,null,m(n(a).cities,s=>(t(),e("option",{key:s,value:s},o(s),9,b))),128))],32),n(a).loading?(t(),e("div",k,"載入中...")):n(a).error?(t(),e("div",x,o(n(a).error),1)):n(a).cityData?(t(),e("div",N,[r("h2",C,o(n(a).selectedCity)+" 天氣預報",1),(t(!0),e(c,null,m(n(a).cityData,s=>(t(),e("div",{key:s.locationName,class:"border p-4 rounded mb-4 shadow"},[r("div",D,[(t(!0),e(c,null,m(s.weatherElement,u=>(t(),e("div",{key:u.elementName,class:"border p-2 rounded bg-gray-50"},[r("h4",w,o(u.elementName),1),r("ul",null,[(t(!0),e(c,null,m(u.time,d=>(t(),e("li",{key:d.startTime},[r("span",T,o(d.startTime)+" ~ "+o(d.endTime)+":",1),g(" "+o(d.parameter.parameterName)+" "+o(d.parameter.parameterUnit||""),1)]))),128))])]))),128))])]))),128))])):f("",!0)]))}},W=y(S,[["__scopeId","data-v-6f5c3f7b"]]);export{W as default};
